<?xml version="1.0"?>
<!--
  有关如何配置 ASP.NET 应用程序的详细信息，请访问
  http://go.microsoft.com/fwlink/?LinkId=152368
  -->
<configuration>
  <configSections>
    <!--注册Spring块 name为Spring-->
    <sectionGroup name="spring">
      <section name="context" type="Spring.Context.Support.ContextHandler, Spring.Core"/>
      <section name="objects" type="Spring.Context.Support.DefaultSectionHandler, Spring.Core"/>
    </sectionGroup>
  </configSections>
  <!--Spring的配置-->
  <spring>
    <!--context是Spring.Net对象容器的配置，指定从哪个位置来读取，放置的时候注意位置，
    有读取的先后顺序 DAL>BLL>UI-->
    <context>
      <!--1：指定从哪个位置来读取<objects>配置-->
      <!--<resource uri="config://spring/objects"/>-->
      <!--2：指定从Xml文件中读取配置-->
      <resource uri="file://~/Config/Service.xml"/>
      <resource uri="file://~/Config/Component.xml"/>
      <resource uri="file://~/Config/Controllers.xml"/>
      <!--3：指定从程序集中的位置读取Xml文件-->
      <!--<resource uri="assembly://Humo.UI.Portal/Humo.UI.Portal/Config/Controllers.xml"/>-->
    </context>
    <!--object是配置容器里面的对象-->
    <objects xmlns="http://www.springframework.net">
      <description>An  example that demonstrates simple IoC features.</description>
      <!--配置StudentInfoDal-->
      <object name="StudentInfoDal" type="Spring_Net.StudentInfoDal,Spring_Net">
        <property name="Name" value="humo"/>
      </object>
    </objects>
  </spring>
  <connectionStrings/>
  <appSettings>
    <add key="webpages:Version" value="2.0.0.0"/>
    <add key="webpages:Enabled" value="false"/>
    <add key="PreserveLoginUrl" value="true"/>
    <add key="ClientValidationEnabled" value="true"/>
    <add key="UnobtrusiveJavaScriptEnabled" value="true"/>
    <!--抽象工厂创建数据库访问层实例所在程序集,满足切换数据库-->
    <add key="DalAssemblyName" value="Humo.DAL"/>
  </appSettings>
  <!--
    有关 web.config 更改的说明，请参见 http://go.microsoft.com/fwlink/?LinkId=235367。

    可在 <httpRuntime> 标记上设置以下特性。
      <system.Web>
        <httpRuntime targetFramework="4.5" />
      </system.Web>
  -->
  <system.web>
    <httpRuntime targetFramework="4.5"/>
    <compilation debug="true" targetFramework="4.5"/>
    <authentication mode="Forms">
      <forms loginUrl="~/Account/Login" timeout="2880"/>
    </authentication>
    <pages>
      <namespaces>
        <add namespace="System.Web.Helpers"/>
        <add namespace="System.Web.Mvc"/>
        <add namespace="System.Web.Mvc.Ajax"/>
        <add namespace="System.Web.Mvc.Html"/>
        <add namespace="System.Web.Optimization"/>
        <add namespace="System.Web.Routing"/>
        <add namespace="System.Web.WebPages"/>
      </namespaces>
    </pages>
    <profile defaultProvider="DefaultProfileProvider">
      <providers>
        <add name="DefaultProfileProvider" type="System.Web.Providers.DefaultProfileProvider, System.Web.Providers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" connectionStringName="DefaultConnection" applicationName="/"/>
      </providers>
    </profile>
    <membership defaultProvider="DefaultMembershipProvider">
      <providers>
        <add name="DefaultMembershipProvider" type="System.Web.Providers.DefaultMembershipProvider, System.Web.Providers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" connectionStringName="DefaultConnection" enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="false" maxInvalidPasswordAttempts="5" minRequiredPasswordLength="6" minRequiredNonalphanumericCharacters="0" passwordAttemptWindow="10" applicationName="/"/>
      </providers>
    </membership>
    <roleManager defaultProvider="DefaultRoleProvider">
      <providers>
        <add name="DefaultRoleProvider" type="System.Web.Providers.DefaultRoleProvider, System.Web.Providers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" connectionStringName="DefaultConnection" applicationName="/"/>
      </providers>
    </roleManager>
    <!--
            If you are deploying to a cloud environment that has multiple web server instances,
            you should change session state mode from "InProc" to "Custom". In addition,
            change the connection string named "DefaultConnection" to connect to an instance
            of SQL Server (including SQL Azure and SQL  Compact) instead of to SQL Server Express.
      -->
    <sessionState mode="InProc" customProvider="DefaultSessionProvider">
      <providers>
        <add name="DefaultSessionProvider" type="System.Web.Providers.DefaultSessionStateProvider, System.Web.Providers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" connectionStringName="DefaultConnection"/>
      </providers>
    </sessionState>
  </system.web>
  <system.webServer>
    <validation validateIntegratedModeConfiguration="false"/>
    <handlers>
      <remove name="ExtensionlessUrlHandler-ISAPI-4.0_32bit"/>
      <remove name="ExtensionlessUrlHandler-ISAPI-4.0_64bit"/>
      <remove name="ExtensionlessUrlHandler-Integrated-4.0"/>
      <add name="ExtensionlessUrlHandler-ISAPI-4.0_32bit" path="*." verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS" modules="IsapiModule" scriptProcessor="%windir%\Microsoft.NET\Framework\v4.0.30319\aspnet_isapi.dll" preCondition="classicMode,runtimeVersionv4.0,bitness32" responseBufferLimit="0"/>
      <add name="ExtensionlessUrlHandler-ISAPI-4.0_64bit" path="*." verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS" modules="IsapiModule" scriptProcessor="%windir%\Microsoft.NET\Framework64\v4.0.30319\aspnet_isapi.dll" preCondition="classicMode,runtimeVersionv4.0,bitness64" responseBufferLimit="0"/>
      <add name="ExtensionlessUrlHandler-Integrated-4.0" path="*." verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS" type="System.Web.Handlers.TransferRequestHandler" preCondition="integratedMode,runtimeVersionv4.0"/>
    </handlers>
  </system.webServer>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="NHibernate" publicKeyToken="AA95F207798DFDB4" culture="neutral"/>
        <bindingRedirect oldVersion="0.0.0.0-3.2.0.4000" newVersion="3.2.0.4000"/>
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Helpers" publicKeyToken="31bf3856ad364e35"/>
        <bindingRedirect oldVersion="1.0.0.0-2.0.0.0" newVersion="2.0.0.0"/>
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35"/>
        <bindingRedirect oldVersion="1.0.0.0-4.0.0.0" newVersion="4.0.0.0"/>
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.WebPages" publicKeyToken="31bf3856ad364e35"/>
        <bindingRedirect oldVersion="1.0.0.0-2.0.0.0" newVersion="2.0.0.0"/>
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="EntityFramework" publicKeyToken="b77a5c561934e089"/>
        <bindingRedirect oldVersion="0.0.0.0-5.0.0.0" newVersion="5.0.0.0"/>
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35"/>
        <bindingRedirect oldVersion="0.0.0.0-1.3.0.0" newVersion="1.3.0.0"/>
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <!--<log4net>
    -->
  <!--根配置-->
  <!--
    <root>
      -->
  <!--日志级别:可选值: ERROR > WARN > INFO > DEBUG -->
  <!--
      <level value="ERROR"/>
      <level value="WARN"/>
      <level value="INFO"/>
      <level value="DEBUG"/>
      <appender-ref ref="ErrorLog" />
      <appender-ref ref="WarnLog" />
      <appender-ref ref="InfoLog" />
      <appender-ref ref="DebugLog" />
    </root>
    -->
  <!-- 错误 Error.log-->
  <!--
    <appender name="ErrorLog" type="log4net.Appender.RollingFileAppender">
      -->
  <!--目录路径，可以是相对路径或绝对路径-->
  <!--
      <param name="File" value="D:\NFine_log"/>
      -->
  <!--文件名，按日期生成文件夹-->
  <!--
      <param name="DatePattern" value="/yyyy-MM-dd/&quot;Error.log&quot;"/>
      -->
  <!--追加到文件-->
  <!--
      <appendToFile value="true"/>
      -->
  <!--创建日志文件的方式，可选值：Date[日期],文件大小[Size],混合[Composite]-->
  <!--
      <rollingStyle value="Composite"/>
      -->
  <!--写到一个文件-->
  <!--
      <staticLogFileName value="false"/>
      -->
  <!--单个文件大小。单位:KB|MB|GB-->
  <!--
      <maximumFileSize value="200MB"/>
      -->
  <!--最多保留的文件数，设为"-1"则不限-->
  <!--
      <maxSizeRollBackups value="-1"/>
      -->
  <!--日志格式-->
  <!--
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%message"/>
      </layout>
      <filter type="log4net.Filter.LevelRangeFilter">
        <param name="LevelMin" value="ERROR" />
        <param name="LevelMax" value="ERROR" />
      </filter>
    </appender>

    -->
  <!-- 警告 Warn.log-->
  <!--
    <appender name="WarnLog" type="log4net.Appender.RollingFileAppender">
      -->
  <!--目录路径，可以是相对路径或绝对路径-->
  <!--
      <param name="File" value="D:\NFine_log"/>
      -->
  <!--文件名，按日期生成文件夹-->
  <!--
      <param name="DatePattern" value="/yyyy-MM-dd/&quot;Warn.log&quot;"/>
      -->
  <!--追加到文件-->
  <!--
      <appendToFile value="true"/>
      -->
  <!--创建日志文件的方式，可选值：Date[日期],文件大小[Size],混合[Composite]-->
  <!--
      <rollingStyle value="Composite"/>
      -->
  <!--写到一个文件-->
  <!--
      <staticLogFileName value="false"/>
      -->
  <!--单个文件大小。单位:KB|MB|GB-->
  <!--
      <maximumFileSize value="200MB"/>
      -->
  <!--最多保留的文件数，设为"-1"则不限-->
  <!--
      <maxSizeRollBackups value="-1"/>
      -->
  <!--日志格式-->
  <!--
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%message"/>
      </layout>
      <filter type="log4net.Filter.LevelRangeFilter">
        <param name="LevelMin" value="WARN" />
        <param name="LevelMax" value="WARN" />
      </filter>
    </appender>

    -->
  <!-- 信息 Info.log-->
  <!--
    <appender name="InfoLog" type="log4net.Appender.RollingFileAppender">
      -->
  <!--目录路径，可以是相对路径或绝对路径-->
  <!--
      <param name="File" value="D:\NFine_log"/>
      -->
  <!--文件名，按日期生成文件夹-->
  <!--
      <param name="DatePattern" value="/yyyy-MM-dd/&quot;Info.log&quot;"/>
      -->
  <!--追加到文件-->
  <!--
      <appendToFile value="true"/>
      -->
  <!--创建日志文件的方式，可选值：Date[日期],文件大小[Size],混合[Composite]-->
  <!--
      <rollingStyle value="Composite"/>
      -->
  <!--写到一个文件-->
  <!--
      <staticLogFileName value="false"/>
      -->
  <!--单个文件大小。单位:KB|MB|GB-->
  <!--
      <maximumFileSize value="200MB"/>
      -->
  <!--最多保留的文件数，设为"-1"则不限-->
  <!--
      <maxSizeRollBackups value="-1"/>
      -->
  <!--日志格式-->
  <!--
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%message"/>
      </layout>
      <filter type="log4net.Filter.LevelRangeFilter">
        <param name="LevelMin" value="INFO" />
        <param name="LevelMax" value="INFO" />
      </filter>
    </appender>

    -->
  <!-- 调试 Debug.log-->
  <!--
    <appender name="DebugLog" type="log4net.Appender.RollingFileAppender">
      -->
  <!--目录路径，可以是相对路径或绝对路径-->
  <!--
      <param name="File" value="D:\NFine_log"/>
      -->
  <!--文件名，按日期生成文件夹-->
  <!--
      <param name="DatePattern" value="/yyyy-MM-dd/&quot;Debug.log&quot;"/>
      -->
  <!--追加到文件-->
  <!--
      <appendToFile value="true"/>
      -->
  <!--创建日志文件的方式，可选值：Date[日期],文件大小[Size],混合[Composite]-->
  <!--
      <rollingStyle value="Composite"/>
      -->
  <!--写到一个文件-->
  <!--
      <staticLogFileName value="false"/>
      -->
  <!--单个文件大小。单位:KB|MB|GB-->
  <!--
      <maximumFileSize value="200MB"/>
      -->
  <!--最多保留的文件数，设为"-1"则不限-->
  <!--
      <maxSizeRollBackups value="-1"/>
      -->
  <!--日志格式-->
  <!--
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%message"/>
      </layout>
      <filter type="log4net.Filter.LevelRangeFilter">
        <param name="LevelMin" value="DEBUG" />
        <param name="LevelMax" value="DEBUG" />
      </filter>
    </appender>
  </log4net>-->
</configuration>